(function(t){function e(e){for(var c,r,o=e[0],i=e[1],l=e[2],u=0,h=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);m&&m(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],c=!0,o=1;o<a.length;o++){var i=a[o];0!==n[i]&&(c=!1)}c&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var c={},n={app:0},s=[];function r(e){if(c[e])return c[e].exports;var a=c[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=c,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)r.d(a,c,function(e){return t[e]}.bind(null,c));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var m=i;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var c=a("85ec"),n=a.n(c);n.a},"0d28":function(t,e,a){},"13a2":function(t,e,a){},"13ff":function(t,e,a){"use strict";var c=a("13a2"),n=a.n(c);n.a},3073:function(t,e,a){},"4d96":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var c=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("TheHeader"),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{sm:12}},[a("ScoreBoard",{attrs:{teams:t.teams}}),a("CreateTeam",{attrs:{users:t.users}})],1),a("MatchesBoard",{attrs:{matches:t.upcomingMatches,completed:!1}}),a("MatchesBoard",{attrs:{matches:t.recentMatches,completed:!0}}),a("SubmitResult",{attrs:{teams:t.teams}})],1)],1)},s=[],r=(a("4de4"),a("4160"),a("caad"),a("b0c0"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{md:12}},[a("h1",[t._v("Foosball Tournament")])]),a("el-col",{attrs:{md:12}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"signifly-logo",x:"0px",y:"0px",viewBox:"0 0 78.9 31.2"}},[a("g",[a("path",{attrs:{d:"M9.8,8.6c0.8,0.3,1.4,0.7,1.9,1.2c0.5,0.5,0.9,1.1,1.1,1.7c0.3,0.6,0.4,1.3,0.4,1.9h-3.1 c0-0.7-0.3-1.3-0.8-1.8C8.8,11.3,8,11.1,7,11.1c-0.4,0-0.8,0-1.2,0.1c-0.4,0.1-0.7,0.2-1,0.4c-0.3,0.2-0.5,0.4-0.7,0.6 c-0.2,0.2-0.3,0.5-0.3,0.8c0,0.6,0.3,1,0.9,1.3c0.6,0.3,1.5,0.5,2.8,0.8c1,0.2,1.9,0.4,2.6,0.6c0.8,0.2,1.4,0.6,2,0.9 c0.5,0.4,1,0.9,1.3,1.4c0.3,0.6,0.4,1.3,0.4,2.1c0,0.8-0.2,1.5-0.5,2.1c-0.3,0.6-0.8,1.2-1.4,1.6c-0.6,0.4-1.3,0.8-2.1,1 C9,25.1,8.1,25.2,7,25.2c-0.8,0-1.6-0.1-2.4-0.4c-0.8-0.2-1.5-0.6-2.2-1.1c-0.6-0.5-1.2-1.1-1.5-1.8c-0.4-0.7-0.6-1.6-0.6-2.6h3.1 c0,0.5,0.1,0.9,0.3,1.3c0.2,0.4,0.5,0.7,0.9,0.9C5,21.9,5.4,22,5.8,22.2c0.4,0.1,0.8,0.2,1.3,0.2c0.4,0,0.9,0,1.3-0.1 c0.4-0.1,0.8-0.2,1.2-0.4c0.3-0.2,0.6-0.4,0.8-0.7c0.2-0.3,0.3-0.6,0.3-1c0-0.2-0.1-0.5-0.2-0.7c-0.1-0.2-0.3-0.4-0.6-0.6 c-0.3-0.2-0.7-0.4-1.2-0.5c-0.5-0.2-1.1-0.3-1.9-0.4c-0.8-0.1-1.5-0.3-2.2-0.5c-0.7-0.2-1.4-0.5-1.9-0.9c-0.6-0.4-1-0.8-1.4-1.4 c-0.4-0.6-0.5-1.3-0.5-2.2c0-0.7,0.1-1.4,0.4-1.9c0.3-0.6,0.7-1.1,1.3-1.5c0.6-0.4,1.2-0.7,2-1C5.2,8.3,6.1,8.2,7,8.2 C8.1,8.2,9.1,8.3,9.8,8.6z"}}),a("rect",{attrs:{x:"15.8",y:"12.9",width:"3.1",height:"12.2"}}),a("path",{attrs:{d:"M33.1,24.4c0,1-0.1,1.9-0.4,2.7c-0.3,0.8-0.7,1.5-1.3,2.1c-0.5,0.6-1.2,1-2,1.3c-0.8,0.3-1.7,0.5-2.6,0.5 c-0.7,0-1.4-0.1-2.1-0.3c-0.7-0.2-1.3-0.5-1.8-0.9c-0.5-0.4-1-0.8-1.3-1.3c-0.4-0.5-0.6-1.1-0.7-1.7h3.4c0.1,0.2,0.2,0.4,0.4,0.6 c0.2,0.2,0.4,0.3,0.6,0.4c0.2,0.1,0.5,0.2,0.7,0.2c0.2,0,0.5,0.1,0.7,0.1c1.1,0,1.9-0.3,2.4-1c0.5-0.7,0.8-1.5,0.8-2.6v-0.6 c-0.5,0.5-1,0.8-1.6,1.1c-0.6,0.2-1.3,0.4-2,0.4c-0.8,0-1.5-0.2-2.2-0.5c-0.7-0.3-1.3-0.8-1.8-1.3c-0.5-0.6-0.9-1.2-1.3-2 c-0.3-0.8-0.5-1.6-0.5-2.5c0-0.9,0.2-1.7,0.5-2.5c0.3-0.8,0.7-1.5,1.3-2c0.5-0.6,1.1-1,1.8-1.3c0.7-0.3,1.4-0.5,2.2-0.5 c0.8,0,1.4,0.1,2.1,0.4c0.6,0.3,1.2,0.7,1.7,1.2v-1.3h3V24.4z M29.7,17.6c-0.2-0.4-0.4-0.8-0.7-1.1c-0.3-0.3-0.6-0.6-1-0.7 c-0.4-0.2-0.8-0.3-1.2-0.3c-0.4,0-0.8,0.1-1.2,0.3c-0.4,0.2-0.7,0.4-1,0.7c-0.3,0.3-0.5,0.7-0.7,1.1c-0.2,0.4-0.2,0.9-0.2,1.4 c0,0.5,0.1,0.9,0.2,1.4c0.2,0.4,0.4,0.8,0.7,1.1c0.3,0.3,0.6,0.5,1,0.7c0.4,0.2,0.8,0.3,1.2,0.3c0.4,0,0.8-0.1,1.2-0.3 c0.4-0.2,0.7-0.4,1-0.7c0.3-0.3,0.5-0.7,0.7-1.1c0.2-0.4,0.2-0.9,0.2-1.3C30,18.5,29.9,18.1,29.7,17.6z"}}),a("path",{attrs:{d:"M46.3,25.1h-3.1v-7.1c0-0.2,0-0.4-0.1-0.7c0-0.3-0.1-0.5-0.3-0.8c-0.1-0.3-0.4-0.5-0.7-0.7 c-0.3-0.2-0.7-0.3-1.2-0.3c-0.7,0-1.3,0.2-1.7,0.7c-0.4,0.5-0.7,1-0.7,1.7v7.1h-3.1V12.9h3v1.2c0.4-0.5,0.9-0.8,1.4-1.1 c0.5-0.3,1.1-0.4,1.8-0.4c0.7,0,1.4,0.1,1.9,0.4c0.6,0.3,1.1,0.6,1.5,1.1c0.4,0.5,0.7,1,1,1.7c0.2,0.7,0.3,1.4,0.3,2.2V25.1z"}}),a("rect",{attrs:{x:"48.5",y:"12.9",width:"3.1",height:"12.2"}}),a("path",{attrs:{d:"M59.9,12.9v2.8h-2.2v9.4h-3.1v-9.4h-1.5v-2.8h1.5c0-0.8,0.1-1.5,0.4-2.2c0.2-0.7,0.6-1.2,1.1-1.7 c0.5-0.5,1-0.8,1.7-1c0.7-0.2,1.4-0.3,2.3-0.2v2.9c-0.8-0.1-1.3,0.1-1.7,0.4c-0.4,0.3-0.6,0.9-0.6,1.8H59.9z"}}),a("path",{attrs:{d:"M64.8,25.1h-3.1V7.7h3.1V25.1z"}}),a("path",{attrs:{d:"M73.2,27.3c-0.3,0.8-0.6,1.4-1,1.9c-0.4,0.5-0.8,0.8-1.3,1.1c-0.5,0.2-1,0.4-1.5,0.4 c-0.6,0.1-1.2,0.1-1.8,0v-2.8c0.4,0,0.7,0,1,0c0.3,0,0.5-0.1,0.8-0.3c0.2-0.1,0.4-0.3,0.6-0.5c0.2-0.2,0.3-0.5,0.4-0.9l0.4-0.9 l-4.7-12.4h3.3l3,8.8l2.9-8.8h3.3L73.2,27.3z"}}),a("circle",{attrs:{cx:"50.1",cy:"2.2",r:"1.8"}})])])])],1)}),o=[],i=(a("13ff"),a("2877")),l={},m=Object(i["a"])(l,r,o,!1,null,"83597f16",null),u=m.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("SCOREBOARD")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.teams,stripe:"","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"name",label:"Team",width:"180"}}),a("el-table-column",{attrs:{prop:"points",label:"Points"}}),a("el-table-column",{attrs:{prop:"matches_won",label:"Won"}}),a("el-table-column",{attrs:{prop:"matches_lost",label:"Lost"}})],1)],1)},p=[],d={data:function(){return{}},props:{teams:Array},methods:{tableRowClassName:function(t){var e=t.row,a=t.rowIndex;if(0===a&&e)return"winning-row"}}},f=d,b=(a("dfa0"),Object(i["a"])(f,h,p,!1,null,null,null)),w=b.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-col",{attrs:{sm:12}},[t.completed?a("h3",[t._v("RECENT MATCHES")]):a("h3",[t._v("UPCOMING MATCHES")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.matches,stripe:"",height:"250"}},[a("el-table-column",{attrs:{label:"Teams",width:"'30%'"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.team1.name)+" vs. "+t._s(e.row.team2.name))])]}}])}),t.completed?a("el-table-column",{attrs:{label:"Score",width:"'30%'"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.team1.score)+" : "+t._s(e.row.team2.score))])]}}],null,!1,3051251762)}):t._e(),a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[t.completed?a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-edit",plain:""},on:{click:function(a){return t.openSubmitResultDialog(e.row)}}},[t._v("Edit result")]):a("el-button",{attrs:{size:"medium",type:"success",icon:"el-icon-check"},on:{click:function(a){return t.openSubmitResultDialog(e.row)}}},[t._v("Match completed")])]}}])})],1)],1)},g=[],_=new c["default"],y=_,S={data:function(){return{match:{}}},props:{matches:Array,completed:Boolean},methods:{openSubmitResultDialog:function(t){y.$emit("openSubmitResultDialog",t)}}},M=S,C=Object(i["a"])(M,v,g,!1,null,null,null),x=C.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-team-div"},[a("p",[t._v("Add a new team to the tournament")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showCreateNewTeamDialog=!0}}},[t._v("Create a new team")]),a("el-dialog",{attrs:{title:"Create a new team",visible:t.showCreateNewTeamDialog}},[a("el-form",{attrs:{model:t.group}},[a("el-form-item",{attrs:{label:"Group name"}},[a("el-input",{attrs:{required:""},model:{value:t.group.name,callback:function(e){t.$set(t.group,"name",e)},expression:"group.name"}})],1),a("el-form-item",{attrs:{label:"Group members"}},[t._l(t.group.members,(function(e){return a("el-tag",{key:e,attrs:{closable:"",effect:"dark",size:"medium",type:"success","disable-transitions":!1},on:{close:function(a){return t.removeMember(e)}}},[t._v(" "+t._s(e)+" ")])})),a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",height:"250",data:t.users.filter((function(e){return!t.search||e.name.toLowerCase().includes(t.search.toLowerCase())}))}},[a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.addMember(e)}}},[t._v("Add")])]}}])},[a("template",{slot:"header"},[a("el-input",{attrs:{size:"mini",placeholder:"Type to search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],2)],1),t.showAlert?a("el-alert",{attrs:{title:"You have to select at least one member",type:"warning"}}):t._e()],2)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showCreateNewTeamDialog=!1}}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:t.createTeam}},[t._v("Create team")])],1)],1)],1)},T=[],O=(a("c975"),a("a434"),a("8aa5")),R=a.n(O),D=(a("e71f"),{apiKey:"AIzaSyAP0HGV_CwCNDfTBgniVwFq-FWSNFLW-MM",authDomain:"signifly-1a675.firebaseapp.com",databaseURL:"https://signifly-1a675.firebaseio.com",projectId:"signifly-1a675",storageBucket:"signifly-1a675.appspot.com",messagingSenderId:"475201121501",appId:"1:475201121501:web:99541b274960dfb710bf34"}),E=R.a.initializeApp(D),j=E.firestore(),$={data:function(){return{search:"",showCreateNewTeamDialog:!1,group:{name:"",members:[]},showAlert:!1}},props:{users:Array},methods:{addMember:function(t){this.group.members.push(t.row.name)},removeMember:function(t){this.group.members.splice(this.group.members.indexOf(t),1)},createTeam:function(){if(0!=this.group.members.length){var t={name:this.group.name,members:this.group.members,points:0,matches_lost:0,matches_won:0};j.collection("teams").add(t),this.showCreateNewTeamDialog=!1,this.group={name:"",members:[]},y.$emit("newTeamCreated",t)}else this.showAlert=!0}}},A=$,z=(a("7759"),Object(i["a"])(A,k,T,!1,null,"399e5a48",null)),N=z.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.edit?"Edit Match":"Match Completed",visible:t.showSubmitResultDialog}},[a("p",[t._v("Please enter the score")]),a("el-form",{attrs:{model:t.match}},[a("el-form-item",{attrs:{label:t.match.team1.name}},[a("el-input-number",{attrs:{min:0,max:30},model:{value:t.match.team1.score,callback:function(e){t.$set(t.match.team1,"score",e)},expression:"match.team1.score"}})],1),a("span",[t._v(":")]),a("el-form-item",{attrs:{label:t.match.team2.name}},[a("el-input-number",{attrs:{min:0,max:30},model:{value:t.match.team2.score,callback:function(e){t.$set(t.match.team2,"score",e)},expression:"match.team2.score"}})],1),a("el-button",{on:{click:function(e){t.showSubmitResultDialog=!1}}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitNewResult}},[t._v("Submit")])],1)],1)},P=[],L=(a("ac1f"),a("466d"),a("2909")),V={data:function(){return{showSubmitResultDialog:!1,match:{team1:{score:0},team2:{score:0}},teamsList:[],edit:!1}},props:{teams:Array},mounted:function(){var t=this;y.$on("openSubmitResultDialog",(function(e){t.showSubmitResultDialog=!0,t.match=e,t.edit=0==t.match.team1.score&&0==t.match.team2.score?0:1}))},methods:{submitNewResult:function(){var t=this;j.collection("matches").doc(this.match.id).update({team1:this.match.team1,team2:this.match.team2,completed:!0}),this.teamsList=Object(L["a"])(this.teams);var e=this.teamsList.filter((function(e){return e.id==t.match.team1.id}))[0],a=this.teamsList.filter((function(e){return e.id==t.match.team2.id}))[0];e.points=e.points+this.match.team1.score,a.points=a.points+this.match.team2.score,this.match.team1.score,this.match.team2.score,e.matches_won++,a.matches_lost++,j.collection("teams").doc(this.match.team1.id).update({points:e.points,matches_won:e.matches_won,matches_lost:e.matches_lost}),j.collection("teams").doc(this.match.team2.id).update({points:a.points,matches_won:a.matches_won,matches_lost:a.matches_lost}),this.showSubmitResultDialog=!1,y.$emit("newResultSubmitted",this.match,this.edit)}}},H=V,I=(a("d114"),Object(i["a"])(H,B,P,!1,null,"0015d095",null)),F=I.exports,G={name:"app",components:{TheHeader:u,ScoreBoard:w,MatchesBoard:x,CreateTeam:N,SubmitResult:F},data:function(){return{teams:[],users:[],upcomingMatches:[],recentMatches:[]}},created:function(){var t=this;this.getData(),y.$on("newTeamCreated",(function(e){t.teams.push(e),e.members.forEach((function(e){t.users=t.users.filter((function(t){return t.name!=e}))}))})),y.$on("newResultSubmitted",(function(e,a){a||(t.recentMatches.push(e),t.upcomingMatches=t.upcomingMatches.filter((function(t){return t.id!=e.id}))),t.teams.sort((function(t,e){return t.points<e.points?1:-1}))}))},methods:{getData:function(){var t=this;j.collection("teams").orderBy("points","desc").get().then((function(e){e.forEach((function(e){var a={id:e.id,name:e.data().name,members:e.data().members,points:e.data().points,matches_won:e.data().matches_won,matches_lost:e.data().matches_lost};t.teams.push(a)}))})),j.collection("matches").get().then((function(e){e.forEach((function(e){var a={id:e.id,team1:e.data().team1,team2:e.data().team2,completed:e.data().completed};a.completed?t.recentMatches.push(a):t.upcomingMatches.push(a)}))})),j.collection("users").get().then((function(e){e.forEach((function(e){var a={name:e.data().name},c=[];t.teams.forEach((function(t){t.members.forEach((function(t){c.push(t)}))})),c.includes(a.name)||t.users.push(a)}))}))}}},W=G,q=(a("034f"),Object(i["a"])(W,n,s,!1,null,null,null)),J=q.exports,U=a("5c96"),K=a.n(U),Y=(a("0fae"),a("b2d6")),Q=a.n(Y);c["default"].use(K.a,{locale:Q.a});var X=a("2ead"),Z=a.n(X);c["default"].use(Z.a),c["default"].config.productionTip=!1,new c["default"]({render:function(t){return t(J)}}).$mount("#app")},7759:function(t,e,a){"use strict";var c=a("3073"),n=a.n(c);n.a},"85ec":function(t,e,a){},d114:function(t,e,a){"use strict";var c=a("4d96"),n=a.n(c);n.a},dfa0:function(t,e,a){"use strict";var c=a("0d28"),n=a.n(c);n.a}});
//# sourceMappingURL=app.de6937a5.js.map