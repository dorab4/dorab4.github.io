(function(e){function t(t){for(var n,o,c=t[0],i=t[1],l=t[2],m=0,d=[];m<c.length;m++)o=c[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,c=1;c<a.length;c++){var i=a[c];0!==r[i]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("85ec"),r=a.n(n);r.a},"0d28":function(e,t,a){},"18c1":function(e,t,a){e.exports=a.p+"img/trophy.749c72ba.svg"},"248f":function(e,t,a){},"4a94":function(e,t,a){},"55dc":function(e,t,a){"use strict";var n=a("e142"),r=a.n(n);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],o=(a("034f"),a("2877")),c={},i=Object(o["a"])(c,r,s,!1,null,null,null),l=i.exports,u=a("5c96"),m=a.n(u),d=(a("0fae"),a("b2d6")),h=a.n(d);n["default"].use(m.a,{locale:h.a});var p=a("2ead"),f=a.n(p),b=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"signifly-logo",x:"0px",y:"0px",viewBox:"0 0 78.9 31.2"}},[a("g",[a("path",{attrs:{d:"M9.8,8.6c0.8,0.3,1.4,0.7,1.9,1.2c0.5,0.5,0.9,1.1,1.1,1.7c0.3,0.6,0.4,1.3,0.4,1.9h-3.1 c0-0.7-0.3-1.3-0.8-1.8C8.8,11.3,8,11.1,7,11.1c-0.4,0-0.8,0-1.2,0.1c-0.4,0.1-0.7,0.2-1,0.4c-0.3,0.2-0.5,0.4-0.7,0.6 c-0.2,0.2-0.3,0.5-0.3,0.8c0,0.6,0.3,1,0.9,1.3c0.6,0.3,1.5,0.5,2.8,0.8c1,0.2,1.9,0.4,2.6,0.6c0.8,0.2,1.4,0.6,2,0.9 c0.5,0.4,1,0.9,1.3,1.4c0.3,0.6,0.4,1.3,0.4,2.1c0,0.8-0.2,1.5-0.5,2.1c-0.3,0.6-0.8,1.2-1.4,1.6c-0.6,0.4-1.3,0.8-2.1,1 C9,25.1,8.1,25.2,7,25.2c-0.8,0-1.6-0.1-2.4-0.4c-0.8-0.2-1.5-0.6-2.2-1.1c-0.6-0.5-1.2-1.1-1.5-1.8c-0.4-0.7-0.6-1.6-0.6-2.6h3.1 c0,0.5,0.1,0.9,0.3,1.3c0.2,0.4,0.5,0.7,0.9,0.9C5,21.9,5.4,22,5.8,22.2c0.4,0.1,0.8,0.2,1.3,0.2c0.4,0,0.9,0,1.3-0.1 c0.4-0.1,0.8-0.2,1.2-0.4c0.3-0.2,0.6-0.4,0.8-0.7c0.2-0.3,0.3-0.6,0.3-1c0-0.2-0.1-0.5-0.2-0.7c-0.1-0.2-0.3-0.4-0.6-0.6 c-0.3-0.2-0.7-0.4-1.2-0.5c-0.5-0.2-1.1-0.3-1.9-0.4c-0.8-0.1-1.5-0.3-2.2-0.5c-0.7-0.2-1.4-0.5-1.9-0.9c-0.6-0.4-1-0.8-1.4-1.4 c-0.4-0.6-0.5-1.3-0.5-2.2c0-0.7,0.1-1.4,0.4-1.9c0.3-0.6,0.7-1.1,1.3-1.5c0.6-0.4,1.2-0.7,2-1C5.2,8.3,6.1,8.2,7,8.2 C8.1,8.2,9.1,8.3,9.8,8.6z"}}),a("rect",{attrs:{x:"15.8",y:"12.9",width:"3.1",height:"12.2"}}),a("path",{attrs:{d:"M33.1,24.4c0,1-0.1,1.9-0.4,2.7c-0.3,0.8-0.7,1.5-1.3,2.1c-0.5,0.6-1.2,1-2,1.3c-0.8,0.3-1.7,0.5-2.6,0.5 c-0.7,0-1.4-0.1-2.1-0.3c-0.7-0.2-1.3-0.5-1.8-0.9c-0.5-0.4-1-0.8-1.3-1.3c-0.4-0.5-0.6-1.1-0.7-1.7h3.4c0.1,0.2,0.2,0.4,0.4,0.6 c0.2,0.2,0.4,0.3,0.6,0.4c0.2,0.1,0.5,0.2,0.7,0.2c0.2,0,0.5,0.1,0.7,0.1c1.1,0,1.9-0.3,2.4-1c0.5-0.7,0.8-1.5,0.8-2.6v-0.6 c-0.5,0.5-1,0.8-1.6,1.1c-0.6,0.2-1.3,0.4-2,0.4c-0.8,0-1.5-0.2-2.2-0.5c-0.7-0.3-1.3-0.8-1.8-1.3c-0.5-0.6-0.9-1.2-1.3-2 c-0.3-0.8-0.5-1.6-0.5-2.5c0-0.9,0.2-1.7,0.5-2.5c0.3-0.8,0.7-1.5,1.3-2c0.5-0.6,1.1-1,1.8-1.3c0.7-0.3,1.4-0.5,2.2-0.5 c0.8,0,1.4,0.1,2.1,0.4c0.6,0.3,1.2,0.7,1.7,1.2v-1.3h3V24.4z M29.7,17.6c-0.2-0.4-0.4-0.8-0.7-1.1c-0.3-0.3-0.6-0.6-1-0.7 c-0.4-0.2-0.8-0.3-1.2-0.3c-0.4,0-0.8,0.1-1.2,0.3c-0.4,0.2-0.7,0.4-1,0.7c-0.3,0.3-0.5,0.7-0.7,1.1c-0.2,0.4-0.2,0.9-0.2,1.4 c0,0.5,0.1,0.9,0.2,1.4c0.2,0.4,0.4,0.8,0.7,1.1c0.3,0.3,0.6,0.5,1,0.7c0.4,0.2,0.8,0.3,1.2,0.3c0.4,0,0.8-0.1,1.2-0.3 c0.4-0.2,0.7-0.4,1-0.7c0.3-0.3,0.5-0.7,0.7-1.1c0.2-0.4,0.2-0.9,0.2-1.3C30,18.5,29.9,18.1,29.7,17.6z"}}),a("path",{attrs:{d:"M46.3,25.1h-3.1v-7.1c0-0.2,0-0.4-0.1-0.7c0-0.3-0.1-0.5-0.3-0.8c-0.1-0.3-0.4-0.5-0.7-0.7 c-0.3-0.2-0.7-0.3-1.2-0.3c-0.7,0-1.3,0.2-1.7,0.7c-0.4,0.5-0.7,1-0.7,1.7v7.1h-3.1V12.9h3v1.2c0.4-0.5,0.9-0.8,1.4-1.1 c0.5-0.3,1.1-0.4,1.8-0.4c0.7,0,1.4,0.1,1.9,0.4c0.6,0.3,1.1,0.6,1.5,1.1c0.4,0.5,0.7,1,1,1.7c0.2,0.7,0.3,1.4,0.3,2.2V25.1z"}}),a("rect",{attrs:{x:"48.5",y:"12.9",width:"3.1",height:"12.2"}}),a("path",{attrs:{d:"M59.9,12.9v2.8h-2.2v9.4h-3.1v-9.4h-1.5v-2.8h1.5c0-0.8,0.1-1.5,0.4-2.2c0.2-0.7,0.6-1.2,1.1-1.7 c0.5-0.5,1-0.8,1.7-1c0.7-0.2,1.4-0.3,2.3-0.2v2.9c-0.8-0.1-1.3,0.1-1.7,0.4c-0.4,0.3-0.6,0.9-0.6,1.8H59.9z"}}),a("path",{attrs:{d:"M64.8,25.1h-3.1V7.7h3.1V25.1z"}}),a("path",{attrs:{d:"M73.2,27.3c-0.3,0.8-0.6,1.4-1,1.9c-0.4,0.5-0.8,0.8-1.3,1.1c-0.5,0.2-1,0.4-1.5,0.4 c-0.6,0.1-1.2,0.1-1.8,0v-2.8c0.4,0,0.7,0,1,0c0.3,0,0.5-0.1,0.8-0.3c0.2-0.1,0.4-0.3,0.6-0.5c0.2-0.2,0.3-0.5,0.4-0.9l0.4-0.9 l-4.7-12.4h3.3l3,8.8l2.9-8.8h3.3L73.2,27.3z"}}),a("circle",{attrs:{cx:"50.1",cy:"2.2",r:"1.8"}})])]),a("h1",[e._v("Foosball Tournament")]),a("router-link",{staticClass:"el-button el-button--success",attrs:{to:"/create-tournament"}},[e._v("Create Tournament"),a("i",{staticClass:"el-icon-right"})])],1)},w=[],g=(a("e5bb"),{}),_=Object(o["a"])(g,v,w,!1,null,"425e14da",null),y=_.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("CREATE TOURNAMENT")]),a("el-row",{attrs:{gutter:40}},[a("PlayersBoard",{attrs:{users:e.users}}),a("AddNewPlayer",{attrs:{users:e.users}}),a("TeamsBoard",{attrs:{teams:e.teams}}),a("CreateTeam",{attrs:{users:e.users}}),a("router-link",{staticClass:"el-button el-button--success",attrs:{to:"/track-tournament"},nativeOn:{click:function(t){return e.startTournament(t)}}},[e._v("Start tournament "),a("i",{staticClass:"el-icon-right"})])],1)],1)},T=[],S=(a("4de4"),a("4160"),a("caad"),a("b0c0"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create-team-div"},[a("el-dialog",{attrs:{title:"Create a new team",visible:e.showCreateNewTeamDialog}},[a("el-form",{attrs:{model:e.group}},[a("el-form-item",{attrs:{label:"Group name"}},[a("el-input",{attrs:{required:""},model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}})],1),a("el-form-item",{attrs:{label:"Group members"}},[e._l(e.group.members,(function(t){return a("el-tag",{key:t,attrs:{closable:"",effect:"dark",size:"medium",type:"success","disable-transitions":!1},on:{close:function(a){return e.removeMember(t)}}},[e._v(" "+e._s(t)+" ")])})),a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",height:"250",data:e.users.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}))}},[a("el-table-column",{attrs:{label:"Name",prop:"name"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.addMember(t)}}},[e._v("Add")])]}}])},[a("template",{slot:"header"},[a("el-input",{attrs:{size:"mini",placeholder:"Type to search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],2)],1),e.showAlert?a("el-alert",{attrs:{title:"You have to select at least one member",type:"warning"}}):e._e()],2)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showCreateNewTeamDialog=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.createTeam}},[e._v("Create team")])],1)],1)],1)}),x=[],D=(a("c975"),a("a434"),a("8aa50")),M=a.n(D),N=(a("e71f"),{apiKey:"AIzaSyAP0HGV_CwCNDfTBgniVwFq-FWSNFLW-MM",authDomain:"signifly-1a675.firebaseapp.com",databaseURL:"https://signifly-1a675.firebaseio.com",projectId:"signifly-1a675",storageBucket:"signifly-1a675.appspot.com",messagingSenderId:"475201121501",appId:"1:475201121501:web:99541b274960dfb710bf34"}),k=M.a.initializeApp(N),E=k.firestore(),$=new n["default"],A=$,O={data:function(){return{search:"",showCreateNewTeamDialog:!1,group:{name:"",members:[]},showAlert:!1}},props:{users:Array},mounted:function(){var e=this;A.$on("openCreateNewTeamDialog",(function(){e.showCreateNewTeamDialog=!0}))},methods:{addMember:function(e){this.group.members.push(e.row.name)},removeMember:function(e){this.group.members.splice(this.group.members.indexOf(e),1)},createTeam:function(){if(0!=this.group.members.length){var e={name:this.group.name,members:this.group.members,points:0,matches_lost:0,matches_won:0};E.collection("teams").add(e).then((function(t){e.id=t.id})),this.showCreateNewTeamDialog=!1,this.group={name:"",members:[]},A.$emit("newTeamCreated",e)}else this.showAlert=!0}}},P=O,R=(a("6ce6"),Object(o["a"])(P,S,x,!1,null,"1569e3c2",null)),j=R.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-col",{attrs:{md:12}},[a("h3",[e._v("TEAMS")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.teams,stripe:"",height:"350"}},[a("el-table-column",{attrs:{prop:"name",label:"Team",width:"100"}}),a("el-table-column",{attrs:{prop:"members",label:"Members",formatter:e.formatter}}),a("el-table-column",{attrs:{align:"right"}},[a("template",{slot:"header"},[a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-plus"},on:{click:e.openCreateNewTeamDialog}},[e._v("New team")])],1)],2)],1)],1)},B=[],L=(a("a15b"),a("d3b7"),a("ac1f"),a("25f0"),a("1276"),{data:function(){return{}},props:{teams:Array},methods:{openCreateNewTeamDialog:function(){A.$emit("openCreateNewTeamDialog")},formatter:function(e){return e.members.toString().split(",").join("\r\n")}}}),W=L,V=Object(o["a"])(W,z,B,!1,null,null,null),I=V.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-col",{attrs:{md:12}},[a("h3",[e._v("PLAYERS")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users,stripe:"",height:"350px"}},[a("el-table-column",{attrs:{prop:"name",label:"Name",width:"120"}}),a("el-table-column",{attrs:{prop:"email",label:"Email"}}),a("el-table-column",{attrs:{align:"right"}},[a("template",{slot:"header"},[a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-plus"},on:{click:e.openAddNewPlayerDialog}},[e._v("New player")])],1)],2)],1)],1)},H=[],q={data:function(){return{}},props:{users:Array},methods:{openAddNewPlayerDialog:function(){A.$emit("openAddNewPlayerDialog")}}},G=q,U=Object(o["a"])(G,F,H,!1,null,null,null),J=U.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create-player-div"},[a("el-dialog",{attrs:{title:"Create a new player",visible:e.showCreateNewPlayerDialog}},[a("el-form",{attrs:{model:e.user}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{required:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showCreateNewPlayerDialog=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addNewPlayer}},[e._v("Add player")])],1)],1)],1)},Y=[],Q={data:function(){return{showCreateNewPlayerDialog:!1,user:{name:"",email:""}}},props:{users:Array},mounted:function(){var e=this;A.$on("openAddNewPlayerDialog",(function(){e.showCreateNewPlayerDialog=!0}))},methods:{addNewPlayer:function(){var e={name:this.user.name,email:this.user.email};E.collection("users").add(e),this.showCreateNewPlayerDialog=!1,this.user={name:"",email:""},A.$emit("newPlayerAdded",e)}}},X=Q,Z=Object(o["a"])(X,K,Y,!1,null,null,null),ee=Z.exports,te={components:{CreateTeam:j,PlayersBoard:J,TeamsBoard:I,AddNewPlayer:ee},data:function(){return{teams:[],users:[]}},created:function(){var e=this;this.getData(),A.$on("newTeamCreated",(function(t){e.teams.push(t),t.members.forEach((function(t){e.users=e.users.filter((function(e){return e.name!=t}))}))})),A.$on("newPlayerAdded",(function(t){e.users.push(t)}))},methods:{startTournament:function(){for(var e=this,t=[],a=0;a<this.teams.length;a++)for(var n=function(){var n={completed:!1,team1:{id:e.teams[a].id,name:e.teams[a].name,score:0},team2:{id:e.teams[r].id,name:e.teams[r].name,score:0}};E.collection("matches").add(n).then((function(e){n.id=e.id})),t.push(n)},r=a+1;r<this.teams.length;r++)n();A.$emit("matchesCreated",t)},getData:function(){var e=this;E.collection("teams").orderBy("points","desc").get().then((function(t){t.forEach((function(t){var a={id:t.id,name:t.data().name,members:t.data().members,points:t.data().points,matches_won:t.data().matches_won,matches_lost:t.data().matches_lost};e.teams.push(a)}))})),E.collection("users").get().then((function(t){t.forEach((function(t){var a={name:t.data().name,email:t.data().email},n=[];e.teams.forEach((function(e){e.members.forEach((function(e){n.push(e)}))})),n.includes(a.name)||e.users.push(a)}))}))}}},ae=te,ne=(a("55dc"),Object(o["a"])(ae,C,T,!1,null,"48228a31",null)),re=ne.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("TRACK TOURNAMENT")]),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{md:12}},[a("ScoreBoard",{attrs:{teams:e.teams}})],1),a("el-col",{attrs:{md:12}},[a("MatchesBoard",{attrs:{matches:e.upcomingMatches,completed:!1}}),a("MatchesBoard",{attrs:{matches:e.recentMatches,completed:!0}})],1),a("el-button",{attrs:{type:"success"},on:{click:e.endTournament}},[e._v("End Tournament")]),a("SubmitResult",{attrs:{teams:e.teams}}),a("DisplayWinner")],1)],1)},oe=[],ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("SCOREBOARD")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.teams,stripe:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"name",label:"Team",width:"180"}}),a("el-table-column",{attrs:{prop:"points",label:"Points"}}),a("el-table-column",{attrs:{prop:"matches_won",label:"Won"}}),a("el-table-column",{attrs:{prop:"matches_lost",label:"Lost"}})],1)],1)},ie=[],le={data:function(){return{}},props:{teams:Array},methods:{tableRowClassName:function(e){var t=e.row,a=e.rowIndex;if(0===a&&t)return"winning-row"}}},ue=le,me=(a("dfa0"),Object(o["a"])(ue,ce,ie,!1,null,null,null)),de=me.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.completed?a("h3",[e._v("RECENT MATCHES")]):a("h3",[e._v("UPCOMING MATCHES")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.matches,stripe:"",height:"250"}},[a("el-table-column",{attrs:{label:"Teams",width:"'30%'"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.team1.name)+" vs. "+e._s(t.row.team2.name))])]}}])}),e.completed?a("el-table-column",{attrs:{label:"Score",width:"'30%'"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.team1.score)+" : "+e._s(t.row.team2.score))])]}}],null,!1,3051251762)}):e._e(),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[e.completed?a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-edit",plain:""},on:{click:function(a){return e.openSubmitResultDialog(t.row)}}},[e._v("Edit result")]):a("el-button",{attrs:{size:"medium",type:"success",icon:"el-icon-check"},on:{click:function(a){return e.openSubmitResultDialog(t.row)}}},[e._v("Match completed")])]}}])})],1)],1)},pe=[],fe={data:function(){return{match:{}}},props:{matches:Array,completed:Boolean},methods:{openSubmitResultDialog:function(e){A.$emit("openSubmitResultDialog",e)}}},be=fe,ve=Object(o["a"])(be,he,pe,!1,null,null,null),we=ve.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.edit?"Edit Match":"Match Completed",visible:e.showSubmitResultDialog}},[a("p",[e._v("Please enter the score")]),a("el-form",{attrs:{model:e.match}},[a("el-form-item",{attrs:{label:e.match.team1.name}},[a("el-input-number",{attrs:{min:0,max:30},model:{value:e.match.team1.score,callback:function(t){e.$set(e.match.team1,"score",t)},expression:"match.team1.score"}})],1),a("span",[e._v(":")]),a("el-form-item",{attrs:{label:e.match.team2.name}},[a("el-input-number",{attrs:{min:0,max:30},model:{value:e.match.team2.score,callback:function(t){e.$set(e.match.team2,"score",t)},expression:"match.team2.score"}})],1),a("el-button",{on:{click:function(t){e.showSubmitResultDialog=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitNewResult}},[e._v("Submit")])],1)],1)},_e=[],ye=(a("466d"),a("2909")),Ce={data:function(){return{showSubmitResultDialog:!1,match:{team1:{score:0},team2:{score:0}},teamsList:[],edit:!1}},props:{teams:Array},mounted:function(){var e=this;A.$on("openSubmitResultDialog",(function(t){e.showSubmitResultDialog=!0,e.match=t,e.edit=0==e.match.completed?0:1}))},methods:{submitNewResult:function(){var e=this;E.collection("matches").doc(this.match.id).update({team1:this.match.team1,team2:this.match.team2,completed:!0}),this.teamsList=Object(ye["a"])(this.teams);var t=this.teamsList.filter((function(t){return t.id==e.match.team1.id}))[0],a=this.teamsList.filter((function(t){return t.id==e.match.team2.id}))[0];this.match.team1.score>this.match.team2.score?(t.matches_won++,a.matches_lost++,t.points=t.points+3):(a.matches_won++,t.matches_lost++,a.points=a.points+3),E.collection("teams").doc(this.match.team1.id).update({points:t.points,matches_won:t.matches_won,matches_lost:t.matches_lost}),E.collection("teams").doc(this.match.team2.id).update({points:a.points,matches_won:a.matches_won,matches_lost:a.matches_lost}),this.showSubmitResultDialog=!1,A.$emit("newResultSubmitted",this.match,this.edit)}}},Te=Ce,Se=(a("f833"),Object(o["a"])(Te,ge,_e,!1,null,"595e800f",null)),xe=Se.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"Foosball winner",visible:e.showTournamentWinner}},[n("img",{attrs:{src:a("18c1")}}),n("h4",[e._v(e._s(e.winner.name))]),n("p",[e._v(e._s(e.members))]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("router-link",{staticClass:"el-button el-button--success",attrs:{to:"/"}},[e._v("Start new tournament")])],1)])},Me=[],Ne={data:function(){return{showTournamentWinner:!1,winner:{members:[]}}},computed:{members:function(){return this.winner.members.toString().split(",").join(" and ")}},mounted:function(){var e=this;A.$on("openWinnerDialog",(function(t){e.showTournamentWinner=!0,e.winner=t}))}},ke=Ne,Ee=(a("dbe3"),Object(o["a"])(ke,De,Me,!1,null,"3ec13bfd",null)),$e=Ee.exports,Ae={components:{ScoreBoard:de,MatchesBoard:we,SubmitResult:xe,DisplayWinner:$e},data:function(){return{teams:[],upcomingMatches:[],recentMatches:[]}},created:function(){var e=this;this.getData(),A.$on("newResultSubmitted",(function(t,a){a||(e.recentMatches.push(t),e.upcomingMatches=e.upcomingMatches.filter((function(e){return e.id!=t.id}))),e.teams.sort((function(e,t){return e.points<t.points?1:-1}))}))},methods:{endTournament:function(){A.$emit("openWinnerDialog",this.teams[0])},getData:function(){var e=this;E.collection("teams").orderBy("points","desc").get().then((function(t){t.forEach((function(t){var a={id:t.id,name:t.data().name,members:t.data().members,points:t.data().points,matches_won:t.data().matches_won,matches_lost:t.data().matches_lost};e.teams.push(a)}))})),E.collection("matches").get().then((function(t){t.forEach((function(t){var a={id:t.id,team1:t.data().team1,team2:t.data().team2,completed:t.data().completed};a.completed?e.recentMatches.push(a):e.upcomingMatches.push(a)}))})),E.collection("users").get().then((function(t){t.forEach((function(t){var a={name:t.data().name,email:t.data().email},n=[];e.teams.forEach((function(e){e.members.forEach((function(e){n.push(e)}))})),n.includes(a.name)||e.users.push(a)}))}))}}},Oe=Ae,Pe=(a("fcef"),Object(o["a"])(Oe,se,oe,!1,null,"28969a09",null)),Re=Pe.exports;n["default"].use(b["a"]);var je=[{path:"/",name:"Home",component:y},{path:"/create-tournament",name:"CreateTournament",component:re},{path:"/track-tournament",name:"TrackTournament",component:Re}],ze=new b["a"]({mode:"history",base:"/",routes:je}),Be=ze;n["default"].use(f.a),n["default"].config.productionTip=!1,new n["default"]({router:Be,render:function(e){return e(l)}}).$mount("#app")},"6ce6":function(e,t,a){"use strict";var n=a("e475"),r=a.n(n);r.a},"85ec":function(e,t,a){},ae8d:function(e,t,a){},dbe3:function(e,t,a){"use strict";var n=a("4a94"),r=a.n(n);r.a},dfa0:function(e,t,a){"use strict";var n=a("0d28"),r=a.n(n);r.a},e142:function(e,t,a){},e475:function(e,t,a){},e5bb:function(e,t,a){"use strict";var n=a("ae8d"),r=a.n(n);r.a},f833:function(e,t,a){"use strict";var n=a("248f"),r=a.n(n);r.a},fbaa:function(e,t,a){},fcef:function(e,t,a){"use strict";var n=a("fbaa"),r=a.n(n);r.a}});
//# sourceMappingURL=app.58958c90.js.map